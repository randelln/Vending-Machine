{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Randell Naidoo\\\\source\\\\repos\\\\newezt\\\\untitled folder\\\\src\\\\components\\\\DataTable.js\";\nimport React from 'react';\nimport { Table, Button } from 'reactstrap';\nimport { API_BASE_URL } from '../constants';\n\nconst DataTable = ({\n  products,\n  runningTotal,\n  setLoadingBuy,\n  setRunningTotal,\n  loadingProducts\n}) => {\n  const checkout = product => {\n    if (product.price > runningTotal) {\n      window.alert('Not enough funds');\n    } else if (product.quantity == 0) {\n      window.alert(`No ${product.name} avaliable. Coins have been refunded`);\n    } else {\n      setLoadingBuy(true); // TODO API_BASE_URL+'/buy'\n\n      fetch('https://localhost:44383/vm/buy/' + product.id + '/' + runningTotal + '/' + product.quantity, {\n        method: 'get',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => res.json()).then(response => {\n        setLoadingBuy(false);\n\n        if (!response.error) {\n          window.alert(`Purchase of ${product.name} successful, coins refunded is ${response.balance} prod quantity left is ${response.quantity}`);\n        } else {\n          window.alert('Purchase unsuccessful');\n          setRunningTotal(response.balance);\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  };\n\n  const items = products || [];\n  return /*#__PURE__*/_jsxDEV(Table, {\n    striped: true,\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      className: \"thead-dark\",\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Volume\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Quantity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: \"Actions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: !loadingProducts ? !items || items.length <= 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: /*#__PURE__*/_jsxDEV(\"td\", {\n          colSpan: \"6\",\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"No Products yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this) : items.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          scope: \"row\",\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.size\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: item.quantity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: [\"R\", item.price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          align: \"center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              color: \"success\",\n              onClick: () => checkout(item),\n              children: \"Buy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }, this)) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n_c = DataTable;\nexport default DataTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"DataTable\");","map":{"version":3,"sources":["C:/Users/Randell Naidoo/source/repos/newezt/untitled folder/src/components/DataTable.js"],"names":["React","Table","Button","API_BASE_URL","DataTable","products","runningTotal","setLoadingBuy","setRunningTotal","loadingProducts","checkout","product","price","window","alert","quantity","name","fetch","id","method","headers","then","res","json","response","error","balance","catch","err","console","log","items","textAlign","length","map","item","size"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Table, Button } from 'reactstrap';\nimport { API_BASE_URL } from '../constants';\n\nconst DataTable = ({ products, runningTotal, setLoadingBuy, setRunningTotal, loadingProducts }) => {\n  const checkout = (product) => {\n    if (product.price > runningTotal) {\n      window.alert('Not enough funds');\n    } else if (product.quantity == 0) {\n      window.alert(`No ${product.name} avaliable. Coins have been refunded`);\n    } else {\n      setLoadingBuy(true);\n      // TODO API_BASE_URL+'/buy'\n      fetch('https://localhost:44383/vm/buy/' + product.id + '/'+ runningTotal + '/' + product.quantity, {\n        method: 'get',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n        .then((res) => res.json())\n        .then((response) => {\n          setLoadingBuy(false);\n          if (!response.error) {\n            window.alert(`Purchase of ${product.name} successful, coins refunded is ${response.balance} prod quantity left is ${response.quantity}`);\n          } else {\n            window.alert('Purchase unsuccessful');\n            setRunningTotal(response.balance);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  const items = products || [];\n  return (\n    <Table striped>\n      <thead className=\"thead-dark\">\n        <tr>\n          <th>Name</th>\n          <th>Volume</th>\n          <th>Quantity</th>\n          <th>Price</th>\n          <th style={{ textAlign: 'center' }}>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        {!loadingProducts ? (\n          !items || items.length <= 0 ? (\n            <tr>\n              <td colSpan=\"6\" align=\"center\">\n                <b>No Products yet</b>\n              </td>\n            </tr>\n          ) : (\n            items.map((item) => (\n              <tr key={item.id}>\n                <th scope=\"row\">{item.name}</th>\n                <td>{item.size}</td>\n                <td>{item.quantity}</td>\n                <th>R{item.price}</th>\n                <td align=\"center\">\n                  <div>\n                    <Button color=\"success\" onClick={() => checkout(item)}>\n                      Buy\n                    </Button>\n                  </div>\n                </td>\n              </tr>\n            ))\n          )\n        ) : (\n          <img src=\"https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif\" />\n        )}\n      </tbody>\n    </Table>\n  );\n};\n\nexport default DataTable;\n"]},"metadata":{},"sourceType":"module"}